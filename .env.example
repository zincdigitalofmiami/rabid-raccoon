# Database — three-URL pattern
#
# 1. Vercel production — Accelerate proxy (pooled, serverless connection management)
DATABASE_URL=prisma+postgres://accelerate.prisma-data.net/?api_key=YOUR_ACCELERATE_KEY
# 2. Direct connection — Prisma CLI (migrate, studio) + ALL batch/ingestion scripts
#    Bypasses Accelerate entirely: no per-op cost, no 5s timeout, unlimited batch size.
DIRECT_URL=postgres://TENANT:SECRET@db.prisma.io:5432/postgres?sslmode=require
# 3. Local dev — next dev uses this so zero Accelerate operations are burned locally.
#    Must be kept in sync with Production via migrations (prisma migrate deploy).
LOCAL_DATABASE_URL=postgresql://YOUR_USER@localhost:5432/rabid_raccoon
#
# Routing summary:
#   next dev            → LOCAL_DATABASE_URL (local Postgres, free)
#   batch scripts (.py) → DIRECT_URL (direct to Production, no Accelerate cost)
#   Vercel production   → DATABASE_URL (Accelerate, connection pooling for serverless)
#   prisma migrate      → DIRECT_URL (via prisma.config.ts)

# Market data providers
DATABENTO_API_KEY=your_databento_key
FRED_API_KEY=your_fred_key

# AI analysis overlay (used by /api/analyse and /api/analyse/ai)
OPENAI_API_KEY=your_openai_api_key
# Set this to your preferred analysis model alias/snapshot.
# Recommended: gpt-5.2-pro (widely available on GPT-5-enabled API keys).
OPENAI_ANALYSIS_MODEL=gpt-5.2-pro
# Optional override for the Forecast panel model (defaults to OPENAI_ANALYSIS_MODEL).
OPENAI_FORECAST_MODEL=gpt-5.2-pro

# Optional: MES HFT Halsey LLM API module
ANTHROPIC_API_KEY=your_anthropic_api_key
# Optional model overrides for mes_hft_halsey/mes_api.py
MES_LLM_OPUS_MODEL=claude-opus-4-6
MES_LLM_GPT_MODEL=gpt-5.2-pro

# Inngest (daily ingestion scheduler)
INNGEST_EVENT_KEY=your_inngest_event_key
INNGEST_SIGNING_KEY=your_inngest_signing_key
